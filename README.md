# Suica Usage View Utility (Chrome拡張)

モバイルSuicaの利用履歴ページ（`https://www.mobilesuica.com/iq/ir/SuicaDisp.aspx`）を以下のように強化します。

- 日付範囲をカレンダー指定し、自動で必要データを再取得（開始日変更で自動実行）
- 種別チェック／場所キーワードフィルター
- 祝日自動取得（holidays-jp API）＋週末/祝日色分け、手入力併用可
- 平日は日付ごとに白/薄グレー交互の縞表示
- CSVエクスポート（現在のフィルター結果）
- 元テーブルをデフォルト非表示にする切替

## 使い方
1. `manifest.json` を読み込んで拡張機能をデベロッパーモードで追加（パッケージ化せずフォルダを指定）。
2. `https://www.mobilesuica.com/iq/ir/SuicaDisp.aspx` を開く。
3. パネルで開始日を設定すると自動で必要データを遡って取得し、フィルター表示。
4. 種別／キーワード／祝日入力で絞り込み、必要に応じて「元テーブルを隠す」を利用。
5. 「CSVエクスポート」で現在のフィルター結果を保存。

## 実装メモ
- コンテンツスクリプト：`content.js`
- スタイル：`styles.css`
- マッチURL：`https://www.mobilesuica.com/iq/ir/SuicaDisp.aspx*`
- 祝日自動取得は `https://holidays-jp.github.io/api/v1/date.json` を利用。失敗時はステータスにエラー表示。

## 既知の制限
- 年跨ぎ判定は「表示対象」の年を基準に、選択月より大きい月を前年扱いにしています。表示期間が更に遡る場合はロジック拡張が必要です。
- 元の印刷ボタンは互換性のため無効化しています（拡張テーブルは閲覧・CSV用）。

